{% extends "base_dashboard.html" %}

{% block title %}Check-out{% endblock %}

{% block main_content %}
    <div class="container">
        <h1>Check-out</h1>
        <form action="/transaction/checkout" method="post">
            <label for="id">Customer</label>
            <select id="id" name="id" onchange="updateRoomField()" required>
                {% for customer in occupied_customers %}
                <option value="{{ customer[0] }}" data-room="{{ customer[2] }}">{{ customer[0] }} - {{ customer[1] }} (Room: {{ customer[2] }})</option>
                {% endfor %}
            </select>
            <label for="no">Room No.</label>
            <input type="text" id="no" name="no" readonly required>
            <button type="submit">Check-out</button>
        </form>
    </div>
    <script>
        // Initialize room field on page load if a customer is pre-selected
        window.onload = function() {
            updateRoomField();
        };
    </script>
{% endblock %}